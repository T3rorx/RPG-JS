<!DOCTYPE html>
<html lang="fr" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RPG Combat Arena - Battle Royale</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          animation: {
            'attack-flash': 'attackFlash 0.6s ease-out',
            'heal-flash': 'healFlash 0.6s ease-out',
            'special-flash': 'specialFlash 0.8s ease-out',
            'danger-pulse': 'dangerPulse 0.8s ease-in-out infinite',
          },
          keyframes: {
            attackFlash: {
              '0%, 100%': { backgroundColor: 'rgba(255, 0, 0, 0)' },
              '50%': { backgroundColor: 'rgba(255, 0, 0, 0.3)' },
            },
            healFlash: {
              '0%, 100%': { backgroundColor: 'rgba(34, 197, 94, 0)' },
              '50%': { backgroundColor: 'rgba(34, 197, 94, 0.3)' },
            },
            specialFlash: {
              '0%, 100%': { backgroundColor: 'rgba(168, 85, 247, 0)' },
              '50%': { backgroundColor: 'rgba(168, 85, 247, 0.4)' },
            },
            dangerPulse: {
              '0%, 100%': {
                borderColor: 'rgba(239, 68, 68, 0.5)',
                boxShadow: '0 0 0 1px rgba(239, 68, 68, 0.5)',
              },
              '50%': {
                borderColor: 'rgba(239, 68, 68, 1)',
                boxShadow: '0 0 10px rgba(239, 68, 68, 0.8)',
              },
            },
          },
        },
      },
      plugins: [
        function({ addUtilities }) {
          addUtilities({
            '.scrollbar-hide': {
              '-ms-overflow-style': 'none',
              'scrollbar-width': 'none',
              '&::-webkit-scrollbar': {
                display: 'none',
              },
            },
          });
        },
      ],
    }
  </script>
</head>
<body class="bg-gray-900 text-white h-full">
  <!-- WRAPPER -->
  <div class="flex flex-col min-h-screen">

    <!-- HEADER -->
    <header id="headerZone" class="bg-gray-800 border-b border-gray-700 flex-none">
      <div class="max-w-6xl mx-auto px-3 md:px-4 py-2 md:py-3 flex flex-wrap items-center gap-2 md:gap-4">
        <div class="flex items-center gap-2 md:gap-4 flex-1 min-w-0">
          <h1 class="text-base md:text-xl font-bold truncate">
            ‚öîÔ∏è RPG Combat Arena
          </h1>
          <div class="flex items-center gap-1 md:gap-2 text-xs md:text-sm">
            <div id="statusIndicator" class="w-2 h-2 rounded-full bg-yellow-500 animate-pulse"></div>
            <span id="statusText" class="font-semibold truncate">En attente...</span>
          </div>
        </div>

        <div class="flex items-center gap-3 md:gap-5 flex-shrink-0">
          <div class="flex gap-3 text-xs md:text-sm">
            <div class="text-center">
              <div class="text-[10px] md:text-xs text-gray-400">Vivants</div>
              <div id="aliveCount"
                   class="text-base md:text-lg font-bold text-green-500">0</div>
            </div>
            <div class="text-center">
              <div class="text-[10px] md:text-xs text-gray-400">Tours</div>
              <div id="turnsRemaining"
                   class="text-base md:text-lg font-bold text-blue-500">10</div>
            </div>
          </div>
          <button id="themeToggle"
                  class="p-1.5 md:p-2 rounded-lg bg-gray-700 hover:bg-gray-600 
                         transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 
                         focus:ring-offset-2 focus:ring-offset-gray-800"
                  title="Changer le th√®me">
            <span id="themeIcon" class="text-lg md:text-xl">üåô</span>
          </button>
        </div>
      </div>
    </header>

    <!-- MAIN, seul scroll -->
    <main id="mainZone" class="flex-1 overflow-y-auto">
      <!-- S√©lection de personnage -->
      <section id="characterSelection"
               class="max-w-6xl mx-auto px-3 md:px-4 py-4 md:py-6">
        <header class="mb-4 md:mb-6 text-center">
          <h2 class="text-xl md:text-2xl font-bold mb-1">
            üéÆ Choisissez votre personnage
          </h2>
          <p class="text-gray-400 text-sm md:text-base">
            Les autres personnages seront contr√¥l√©s par l'ordinateur.
          </p>
        </header>

        <div id="characterSelectionButtons"
             class="grid gap-3 md:gap-4
                    grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
          <!-- Boutons g√©n√©r√©s dynamiquement -->
        </div>
      </section>

      <!-- Zone de combat -->
      <section id="combatZone"
               class="hidden max-w-6xl mx-auto px-3 md:px-4 pb-4 md:pb-6">
        <header class="text-center mb-3 md:mb-4">
          <h2 class="text-xl md:text-2xl font-bold mb-1">
            ‚öîÔ∏è Battle Royale
          </h2>
          <p class="text-gray-400 text-xs md:text-sm">
            Tous contre tous - Le dernier survivant gagne !
          </p>
        </header>

        <div id="charactersArea"
             class="grid gap-2 md:gap-4
                    grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4
                    pb-2 md:pb-4">
          <!-- Cartes de personnages g√©n√©r√©es dynamiquement -->
        </div>
      </section>
    </main>

    <!-- FOOTER (timeline + actions) -->
    <footer id="footerZone"
            class="bg-gray-800 border-t border-gray-700 flex-none hidden">
      <div class="max-w-6xl mx-auto px-3 md:px-4 py-3 md:py-4 w-full flex flex-col gap-3 md:gap-4">
        <!-- Timeline -->
        <div>
          <div class="text-[10px] md:text-xs text-gray-400 mb-1">
            üìç Ordre du tour
          </div>
          <div id="turnTimeline"
               class="flex gap-1 md:gap-2 overflow-x-auto pb-2 md:pb-3 scrollbar-hide 
                      relative after:absolute after:right-0 after:top-0 after:w-8 
                      after:h-full after:bg-gradient-to-l after:from-gray-800 after:to-transparent 
                      after:pointer-events-none">
            <!-- Timeline items dynamiques -->
          </div>
        </div>

        <!-- Zone d'actions -->
        <div id="actionArea" class="hidden flex flex-col gap-2">
          <div class="flex gap-1 border-b border-gray-600">
            <button id="tabNormal"
                    class="px-3 md:px-4 py-1.5 text-xs md:text-sm font-semibold
                           text-white border-b-2 border-blue-500 bg-blue-500/10
                           hover:bg-blue-500/20 transition-all flex-1 md:flex-none
                           focus:outline-none focus:ring-2 focus:ring-blue-500 
                           focus:ring-offset-2 focus:ring-offset-gray-800"
                    data-tab="normal">
              ‚öîÔ∏è Attaque
            </button>
            <button id="tabSpecial"
                    class="px-3 md:px-4 py-1.5 text-xs md:text-sm font-semibold
                           text-gray-400 border-b-2 border-transparent bg-transparent
                           hover:text-white hover:bg-gray-700/50 disabled:opacity-50 
                           disabled:cursor-not-allowed transition-all flex-1 md:flex-none
                           focus:outline-none focus:ring-2 focus:ring-blue-500 
                           focus:ring-offset-2 focus:ring-offset-gray-800"
                    data-tab="special">
              ‚ú® Sp√©cial
            </button>
            <button id="tabHeal"
                    class="px-3 md:px-4 py-1.5 text-xs md:text-sm font-semibold
                           text-gray-400 border-b-2 border-transparent bg-transparent
                           hover:text-white hover:bg-gray-700/50 disabled:opacity-50 
                           disabled:cursor-not-allowed transition-all flex-1 md:flex-none
                           focus:outline-none focus:ring-2 focus:ring-blue-500 
                           focus:ring-offset-2 focus:ring-offset-gray-800"
                    data-tab="heal">
              üíö Soin
            </button>
          </div>

          <div id="actionContent"
               class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide">
            <!-- Cartes d'action dynamiques -->
          </div>
        </div>
      </div>
    </footer>

    <!-- CONSOLE -->
    <section id="consoleZone"
             class="bg-black border-t border-gray-800 flex-none hidden">
      <div class="max-w-6xl mx-auto px-3 md:px-4 py-2 md:py-3 w-full flex flex-col gap-1">
        <div class="flex items-center justify-between mb-1">
          <span class="text-[10px] md:text-xs text-gray-500 font-semibold">
            üìú Console
          </span>
          <button id="toggleConsole"
                  class="text-xs text-gray-500 hover:text-white transition-colors
                         focus:outline-none focus:ring-2 focus:ring-blue-500 
                         focus:ring-offset-2 focus:ring-offset-black rounded"
                  aria-label="R√©duire/Agrandir la console">
            <span id="toggleConsoleIcon">‚ñº</span>
          </button>
        </div>
        <div id="gameConsole"
             class="max-h-40 md:max-h-52 overflow-y-auto font-mono text-[10px] md:text-xs text-gray-400 scrollbar-hide">
          <p class="text-gray-600">En attente du d√©but de la partie...</p>
        </div>
      </div>
    </section>

  </div>

  <!-- Scripts -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
